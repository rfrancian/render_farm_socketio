<html>

<head>
  <title>Render Farm Manager v0.001</title>
  <link rel="stylesheet" href="/stylesheets/style.css">

  <title>Socket.IO chat</title>

</head>

<body>
  <h1>Render farm v 0.001</h1>
  <p>Welcome to render farm</p>


  <section class="container">
    <form id="my-form">
      <h1>Render Inputs:</h1>

      <div>
        <label for="filename"> filename:</label>
        <input type="text" value='/Volumes/blenderFiles/input/' id="filename">
      </div>
      
      <div class="nodeFields">
        <div>
          <div class="checkboxes">
            <input type="checkbox" id="node1Selection" name="node1checkbox" value="node1Selection">
            <label for="node1Selection">Node 1</label>
          </div>
          <input type="text" value = 'rsf@192.168.86.20' id="workerNode1">
        </div>

        <div>
          <div class="checkboxes">
            <input type="checkbox" id="node2Selection" name="node2checkbox" value="node2Selection">
            <label for="node2Selection">Node 2</label>
          </div>
          <input type="text" value = 'rsf@192.168.86.41' id="workerNode2">
        </div>

        <div>
            <div class="checkboxes">
                <input type="checkbox" id="node3Selection" name="node3checkbox" value="node3Selection">
                <label for="node3Selection">Node 3</label>
              </div>
          <input type="text" value = 'rsf@0.0.0.3' id="workerNode3">
        </div>

        <div>
            <div class="checkboxes">
                <input type="checkbox" id="node4Selection" name="node4checkbox" value="node4Selection">
                <label for="node4Selection">Node 4</label>
              </div>
          <input type="text" value = 'rsf@0.0.0.4' id="workerNode4">
        </div>
          <div>
              <div class="checkboxes">
                  <input type="checkbox" id="node5Selection" name="node5checkbox" value="node5Selection">
                  <label for="node5Selection">Node 5</label>
                </div>
            <input type="text" value = 'rsf@0.0.0.5' id="workerNode5">
          </div>
        
      </div>     

      <div class="nodeFields">

          <div>
              <div class="checkboxes">
                  <input type="checkbox" id="node6Selection" name="node6checkbox" value="node6Selection">
                  <label for="node6Selection">Node 6</label>
                </div>
            <input type="text" value = 'rsf@0.0.0.6' id="workerNode6">
          </div>
          <div>
              <div class="checkboxes">
                  <input type="checkbox" id="node7Selection" name="node7checkbox" value="node7Selection">
                  <label for="node7Selection">Node 7</label>
                </div>
            <input type="text" value = 'rsf@0.0.0.7' id="workerNode7">
          </div>
          <div>
              <div class="checkboxes">
                  <input type="checkbox" id="node8Selection" name="node8checkbox" value="node8Selection">
                  <label for="node8Selection">Node 8</label>
                </div>
            <input type="text" value = 'rsf@0.0.0.8' id="workerNode8">
          </div>
          <div>
              <div class="checkboxes">
                  <input type="checkbox" id="node9Selection" name="node9checkbox" value="node9Selection">
                  <label for="node9Selection">Node 9</label>
                </div>
            <input type="text" value = 'rsf@0.0.0.9' id="workerNode9">
          </div>
          <div>
              <div class="checkboxes">
                  <input type="checkbox" id="node10Selection" name="node10checkbox" value="node10Selection">
                  <label for="node10Selection">Node 10</label>
                </div>
            <input type="text" value = 'rsf@0.0.0.10' id="workerNode10">
          </div>



        </div>     
  

      <div class="intFields">
        <div>
          <label for="seed"> seed :</label>
         <input type="text" value = '0' id="seed">
        </div>
        <div>
          <label for="samples"> samples:</label>
          <input type="text" value = '4' id="samples">
        </div>
        <div>    
          <label for="split"> split:</label>
          <input type="text" value = '8' id="split">
        </div>
      </div>
      <input class="btn" type="submit" value="Submit">

      <div class="submitMessages">
        <div class="msg"></div>    
        <div class="timeStamp"></div>
      </div>

      <div class="utilityMessages">
          <div class="utilitymessage1"></div>    
          <div class="utilitymessage2"></div>    
          <div class="utilitymessage3"></div>    
          <div class="utilitymessage4"></div>    
          <div class="utilitymessage5"></div>    
          <div class="utilitymessage6"></div>    
          <div class="utilitymessage7"></div>    
          <div class="utilitymessage8"></div>    
      </div>
  
      <div>
          <label for="Node1"> Node 1: </label>
          <textarea id="Node1" rows='8' cols= '150'></textarea>
      </div>
      <div>
          <label for="Node2"> Node 2:</label>
          <textarea id="Node2" rows='8' cols= '150'></textarea>
      </div>
      <div>
          <label for="Node3"> Node 3:</label>
          <textarea id="Node3" rows='8' cols= '150'></textarea>
      </div>
      <div>
          <label for="Node4"> Node 4:</label>
          <textarea id="Node4" rows='8' cols= '150'></textarea>
      </div>
      <div>
          <label for="Node5"> Node 5: </label>
          <textarea id="Node5" rows='8' cols= '150'></textarea>
      </div>
      <div>
          <label for="Node6"> Node 6:</label>
          <textarea id="Node6" rows='8' cols= '150'></textarea>
      </div>
      <div>
          <label for="Node7"> Node 7:</label>
          <textarea id="Node7" rows='8' cols= '150'></textarea>
      </div>
      <div>
          <label for="Node8"> Node 8:</label>
          <textarea id="Node8" rows='8' cols= '150'></textarea>
      </div>
      <div>
          <label for="Node9"> Node 9:</label>
          <textarea id="Node9" rows='8' cols= '150'></textarea>
      </div>
      <div>
          <label for="Node10"> Node 10:</label>
          <textarea id="Node10" rows='8' cols= '150'></textarea>
      </div>

    
    </form>


    <ul id="users"></ul>


  </section>
  
  <ul id='messages'></ul>

<script src="/socket.io/socket.io.js"></script>
<script>

  
    var startTime =  Date.now()

    var socket = io();

    const myForm = document.querySelector('#my-form')
    const filenameInput = document.querySelector('#filename')
    const seedInput = document.querySelector('#seed')
    const msg = document.querySelector('.msg')

    const utilitymessage1 = document.querySelector('.utilitymessage1')
    const utilitymessage2 = document.querySelector('.utilitymessage2')
    const utilitymessage3 = document.querySelector('.utilitymessage3')
    const utilitymessage4 = document.querySelector('.utilitymessage4')
    const utilitymessage5 = document.querySelector('.utilitymessage5')
    const utilitymessage6 = document.querySelector('.utilitymessage6')
    const utilitymessage7 = document.querySelector('.utilitymessage7')
    const utilitymessage8 = document.querySelector('.utilitymessage8')

    const timeStamp = document.querySelector('.timeStamp')

    const samplesInput = document.querySelector('#samples')
    const splitInput = document.querySelector('#split')

    // textareas
    const Node1Input = document.querySelector('#Node1')
    const Node2Input = document.querySelector('#Node2')
    const Node3Input = document.querySelector('#Node3')
    const Node4Input = document.querySelector('#Node4')
    const Node5Input = document.querySelector('#Node5')
    const Node6Input = document.querySelector('#Node6')
    const Node7Input = document.querySelector('#Node7')
    const Node8Input = document.querySelector('#Node8')
    const Node9Input = document.querySelector('#Node9')
    const Node10Input = document.querySelector('#Node10')
    
    // wworker IPs
    var workerNodeInput = [ document.querySelector('#workerNode1').value, 
                            document.querySelector('#workerNode2').value, 
                            document.querySelector('#workerNode3').value, 
                            document.querySelector('#workerNode4').value, 
                            document.querySelector('#workerNode5').value, 
                            document.querySelector('#workerNode6').value, 
                            document.querySelector('#workerNode7').value, 
                            document.querySelector('#workerNode8').value, 
                            document.querySelector('#workerNode9').value, 
                            document.querySelector('#workerNode10').value]
                       
const node1Select = document.querySelector('#node1Selection').value                 
const node2Select = document.querySelector('#node2Selection').value
const node3Select = document.querySelector('#node3Selection').value
const node4Select = document.querySelector('#node4Selection').value
const node5Select = document.querySelector('#node5Selection').value
const node6Select = document.querySelector('#node6Selection').value
const node7Select = document.querySelector('#node7Selection').value
const node8Select = document.querySelector('#node8Selection').value
const node9Select = document.querySelector('#node9Selection').value
const node10Select = document.querySelector('#node10Selection').value

    myForm.addEventListener('submit', onSubmit)

    function onSubmit(e) {
      e.preventDefault()
      startTime = Date.now()
      socket.emit('filename', [filenameInput.value, samplesInput.value, splitInput.value, workerNodeInput, seedInput.value])
      socket.emit('samples', samplesInput.value)
      socket.emit('split', splitInput.value)
      msg.innerHTML = ` file name: ${filenameInput.value} `

      utilitymessage1.innerHTML =`${node1Select}`
      utilitymessage2.innerHTML =`${node2Select}`
      utilitymessage3.innerHTML =`${node3Select}`
      utilitymessage4.innerHTML =`${node4Select}`
      utilitymessage5.innerHTML =`${node5Select}`
      utilitymessage6.innerHTML =`${node6Select}`
      utilitymessage7.innerHTML =`${node7Select}`
      return false;
    }

    socket.on('node1Message', function(msg) {
      Node1Input.value += msg + '' + '\n'
      Node1Input.scrollTop = Node1Input.scrollHeight
      timeStamp.innerHTML = ` elapsed time :  ${(Date.now()-startTime)/1000} seconds`

    })
    socket.on('node2Message', function(msg) {
      Node2Input.value += msg + '' + '\n'
      Node2Input.scrollTop = Node2Input.scrollHeight
      timeStamp.innerHTML = ` elapsed time :  ${(Date.now()-startTime)/1000} seconds`

    })
    socket.on('node3Message', function(msg) {
      Node3Input.value += msg + '' + '\n'
      Node3Input.scrollTop = Node3Input.scrollHeight
      timeStamp.innerHTML = ` elapsed time :  ${(Date.now()-startTime)/1000} seconds`

    })
    socket.on('node4Message', function(msg) {
      Node4Input.value += msg + '' + '\n'
      Node4Input.scrollTop = Node4Input.scrollHeight
      timeStamp.innerHTML = ` elapsed time :  ${(Date.now()-startTime)/1000} seconds`

    })
    socket.on('node5Message', function(msg) {
      Node5Input.value += msg + '' + '\n'
      Node5Input.scrollTop = Node5Input.scrollHeight
      timeStamp.innerHTML = ` elapsed time :  ${(Date.now()-startTime)/1000} seconds`

    })
    socket.on('node6Message', function(msg) {
      Node6Input.value += msg + '' + '\n'
      Node6Input.scrollTop = Node6Input.scrollHeight
      timeStamp.innerHTML = ` elapsed time :  ${(Date.now()-startTime)/1000} seconds`

    })
    socket.on('node7Message', function(msg) {
      Node7Input.value += msg + '' + '\n'
      Node7Input.scrollTop = Node7Input.scrollHeight
      timeStamp.innerHTML = ` elapsed time :  ${(Date.now()-startTime)/1000} seconds`

    })
    socket.on('node8Message', function(msg) {
      Node8Input.value += msg + '' + '\n'
      Node8Input.scrollTop = Node8Input.scrollHeight
      timeStamp.innerHTML = ` elapsed time :  ${(Date.now()-startTime)/1000} seconds`

    })
    socket.on('node9Message', function(msg) {
      Node9Input.value += msg + '' + '\n'
      Node9Input.scrollTop = Node9Input.scrollHeight
      timeStamp.innerHTML = ` elapsed time :  ${(Date.now()-startTime)/1000} seconds`

    })
    socket.on('node10Message', function(msg) {
      Node10Input.value += msg + '' + '\n'
      Node10Input.scrollTop = Node10Input.scrollHeight
      timeStamp.innerHTML = ` elapsed time :  ${(Date.now()-startTime)/1000} seconds`

    })


</script>

</body>

</html>
